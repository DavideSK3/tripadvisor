(leggere a schermo intero, se no si incasinano tutte le righe, ops...)

MODIFICHE EFFETTUATE							CORREZIONI/AGGIUNTE DA FARE

(giovedì 7/7)

 - ricerca ristorante non è più CASE SENSITIVE					
 - implementato ordinamento ricerche ricaricando una nuova pagina	- mettere a posto i pulsanti per scegliere ordinamento
 - implementata "paginazione" dei risulatati				- gestire meglio come salvare e recuperare la lista di risultati già calcolata
 - implementata ricerca avanzata					- rimettere a posto la grafica spostata dopo aver inglobato il blocco in una form
									- aggiungere form anche per ricerca luogo e ristorante
 - nella ricerca avanzata implementato con JS la geolocalizzazione	- problema a gestire il caso in cui non sia supportata/sia stata bloccata
									(mostrare messaggio di notifica che impedisca di inserire la distanza a cui cercare)
 - nella ricerca normale ed avanzata, rimane segnato cosa si ha cercato
	(es. checkbox spuntati e query scritta nei campi)
 - nella ricerca avanzata le cucine disponibili vengono prese
   dinamicamente dal database
 - migliorato il riutilizzo del codice all'interno della classe
   DBManager, evitando di ripetere per ogni metodo parti di codice comuni
   (es la creazione dell'oggetto Ristorante dato un risultato dal
   ResultSet)
 - implementata ricerca per Luogo e per Luogo e Ristorante
 - nella ricerca per luogo, una volta invata la query, si sceglie
   il Place più simile alla query inviata (permettendo quindi di 
   inviare qualunque stringa, non solo una tra quelle consigliate)
 - nella ricerca avanzata implementato il filtro per distanza dalla	- attenzione, necessario esprimere tutte le longitudini e latitudii in radianti non
   posizione attuale							  in gradi decimali
 - messi gli stili e js per l'header in message.jsp			- mettere uno stile per il messaggio
   

(venerdì 8/7)
 - nella lista risultati appare messaggio se non è stato trovato niente
 - nella visualizzazione della lista dei ristoranti, aggiunto
   dinamicamente il numero di stelle, il numero di recensioni,
   le cucine 
 - migliorata implementazione salvataggio risultati per paginazione
   e scorrimento (precedente/successiva) pagine
 - aggiunta nella advanced research il form per ricerca luogo e ristorante
   (con autocompletamento)
 - passando da una pagina all'altra o dopo la ricerca i vari form rimangono
   compilati come da ricerca

 - aggiunta parte del Profile fatta da Davide

(lunedì 11/7)

 - aggiunta query per recuperare foto del ristorante
 - iniziata dinamicizzazione pagina restaurant
 - inseriti orari ristoranti da createtable della Sara
   (e relativa query per recuperarli)
 - cambiato nome parametro ricerca ristorante da "restaurant" a "r_query"
   per evitare conflitti con nome parametro ristorante nella pagina del ristorante
 - corretta formula calcolo distanze coordinate gps
 - aggiunto calcolo posizione in graduatoria ristorante nella città
 - alcune lievi modifiche pagine ristorante e lista ristorante  	- qualcuno che sa usare meglio di me html/css deve rimetterle a posto
 - corretto href a sito web esterno

(martedì 12/7)

 - corretto confronto USER_TYPE nelle jsp
 - aggiustata servlet Register


(martedì 9/8)

 - finito di implementare il metodo getReview() di DBManager
 - aggiustata gestione ristorante inesistente nel RestaurantServlet
 - aggiunto "author" alla classe Review
 - trasformazione da html statico in jsp della parte delle recensioni di restaurant.jsp
 - messo a posto importazione JavaScripts in restaurant.jsp
 - messo a posto upload photos e reviews (cambiata anche directory di salvataggio)
 - implementata visualizzazione foto

(mercoledì 10/8)

 - in caso di login sbagliato ora si mostra messaggio di errore
 - dalla pagina profile, premendo sul logo si rimanda a /TripAdvisor invece che /TripAdvosr/home.jsp
 - corretto bug in restaurant.jsp e header.jsp: c'era conflitto di ID tra finestrella notifiche (myModal) e finestrella recensione. Ho cambiato id alla 	finestrella notifiche
 - supportata la possibilità di inserire una recensione senza allegare foto
 - al'inserimento di una review vengono aggiornati anche i dati contenuti nel rispettivo ristorante
 - aggiustato problema di divisione per zero nel caso in cui un ristorante non abbia recensioni, quando si ordinano i ristoranti per valutazione (ora di default con una ricerca i ristoranti non vengono ordinati)
 - usato la formattazione (con fmt) della valutazione globale per impedire che stampi tutti i numeri decimali (sia in restaurant.jsp che in result_list.jsp)


(venerdì 12/8)

 - aggiustato Carosello (forse)
 - corretto errore inserimento notifiche foto
 - aggiunta gestione connessione a ristorante inesistente
 - se l'utente non è registrato scompaiono i pulsanti per inserire recensioni e foto

(sabato 13/8)
 
 - fatto QR code (da visualizzare meglio su pagina ora)
 - tolti secondi da orari del ristorante
 - quando utente fa recupero password, cancella da db il token usato
 - aggiustati alcuni caratte ri accentati in restaurant.jsp


(martedì 16/8)

 - aggiunto filtro LoggedOut e aggiunto servlet filtrate da LoggedInFilter
 - modificata servlet ValidateChangePasswordServlet in modo tale da poter essere usata anche per utenti loggati che vogliono cambiare password
 - cambiato in sessadecimali la gestione delle coordinate (lat e long)
 - cambiato identificazione giorno per gli orari da nome (Stringa) a intero ordinale

(mercoledì 17/8)

 - modificato tabella PHOTOS aggiungendo campo "TYPE" per identificare le foto inserire dal gestore del ristorante da quelle inserite da recensioni
 - modiicato importazione foto da db e strutturazione foto nella classe Restaurant in modo da semplificare la creazione del carosello
 - aggiustato il carosello: vengono visualizzate prima le foto inserite da gestore/proprietario e poi da recensioni
 - nella ricerca per Ristorante soltanto, risultati filtrati non per editing distance ma per containing distance
 - inserito il CASE WHEN ELSE END per gestire ristoranti con 0 recensioni nelle query
 - per ricerca per valutazione cambiato "FLOOR(val) = target" con "ABS(val - target) <= 0.5" per emulare meglio l'operazione di ROUND
 - aggiunta la ricerca avanzata anche per la ricerca con solo Luogo o con sia Luogo che Ristorante (prima c'era solo per la ricerca per Ristorante)
 - CAMBIATO OGNI OCCORRENZA DI "http://localhost:8084/" CON UNA VARIABILE CONTENENTE TALE INDIRIZZO ("webAddress" dentro a web.xml), RENDENDO IL SITO PORTABILE

(giovedì 18/8)
 
 - modifiche fatte da Pier
 - aggiustato problemi JS per geolocalizzazione su Google Chrome e Firefox (aggiunto anche messaggio di erroe in caso non sia abilitata geolocalizzazione)
 - risolto problema null pointer exception per ricerca per vicinanza
 - reso required il global value per le recensioni
 - amministratore non può fare recensioni o invare foto
 - proprietario ristorante non può inviare recensioni 
 - proprietario ristorante non invia foto da dove ci sono le recensioni
 - foto inviate da proprietario ristorante sono segnate come più importanti e appaiono prima
 - sostituito tutti (credo/spero/forse, meglio ricontrollare) gli href a pagine del sito usando <c:url> in modo da fare l'Url rewriting nel caso siano disabilitati i cookies

(venerdì 19/8)

 - ricerca avanzata dei ristoranti vicini alla posizione attuale: unità di misura cambaita in metri (e specificata nella pagina)
 - di default ristoranti ordinati per posizione
 - eliminata servlet AdvancedResearch e fatto miglior riutilizzo codice per ricerca/ordinamento/paginazione in RestaurantsList
 - corretti alcuni bug in giro
 - aggiunto url rewriting anche per form

(sabato 20/8)

 - corretto errore nella paginazione
 - inserita posizione in classifica dei ristoranti nella result list
 - eliminata AdvancedResearchServlet
 - migliorata e resa più robusta la classe RestaurantsList e semplificato il passaggio degli input tra le pagine (per mantenere il form compilato dopo la ricerca)

(domenica 21/8)

 - risolto problema codifica in restaurnt.jsp
 - (rinominato result_list.jsp)
 - aggiunto parte di pier

(lunedì 22/8)

 - 






















